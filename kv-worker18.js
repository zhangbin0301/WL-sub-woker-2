// worker设置里面添加变量PSWD(登录密码)
// 你需要绑定变量名为 KV 的 KV 命名空间
// 基础参数配置
const CONFIG = {
	UUID: 'ea4909ef-7ca6-4b46-bf2e-6c07896ef338',  // 登录地址/sub-uuid
	TOKEN: '111', // api路径
    UP: 'ea4909ef-7ca6-4b46-bf2e-6c07896ef338',           // 节点上传密钥
    DO: 'lgbts',          // 订阅地址密钥
    DEFAULT_DOMAIN: '', //  默认即可，无需设置
    EXPIRATION_TIME: 600,     // 链接有效期(s),有效期内未及时更新的节点移除
    MAX_LOGIN_ATTEMPTS: 3,     // 最大登录尝试次数
    BACKGROUND_IMAGE: 'https://media.istockphoto.com/id/508515231/photo/feeling-free-to-express-her-sensuality.jpg?s=1024x1024&w=is&k=20&c=959xvWit4gR8btZtd7FmzTIkqzSwyB8zLIacQyQfLIk=;https://media.istockphoto.com/id/520980967/photo/sexy-beautiful-woman-in-lingerie.jpg?s=612x612&w=is&k=20&c=ciVJawZ8X8wrnyhK3GWaypMzus09kwuT7vildArZ20Q=;https://media.istockphoto.com/id/506435758/photo/beautyful-young-blond-woman-sitting-next-to-the-balkony-door.jpg?s=1024x1024&w=is&k=20&c=BeDnqv_dt3XPN00IVVuO0eJo6kA362nXBlDxBsUX-_8=;https://media.istockphoto.com/id/187150159/photo/naked-girl-in-water-on-a-black-background.jpg?s=1024x1024&w=is&k=20&c=IyxsYlzFJlJVYDDIkkZX3lw6nWYfcvVYVOpPnoM1sBk=;https://media.istockphoto.com/id/538127701/photo/female-torso-with-bra-on-black-background.jpg?s=612x612&w=is&k=20&c=Z1Na-xQxSiXEpf2RvC9MfeVWKssTXx36653LYzbh2oo=;https://cdn.pixabay.com/photo/2024/07/03/15/40/beauty-8870258_1280.png?q=80&w=1280;https://media.istockphoto.com/id/1077567800/photo/hot-young-adult-proud-and-domineering-woman-dressed-in-a-long-scarlet-red-long-dress-sexually.jpg?s=612x612&w=is&k=20&c=Ow7PyaUo2YZ1YDnnlPY3PJlmB9C_x5O9XYjR4Q_xd3U=;https://media.istockphoto.com/id/1077591134/photo/free-your-femininity.jpg?s=612x612&w=is&k=20&c=FqZHQjWLmL7yAslJLYIMPjF7LlXAIZAM9AR6bGHgE1g=;https://media.istockphoto.com/id/1156676927/photo/fashionable-studio-portrait-of-a-sport-girl.jpg?s=612x612&w=is&k=20&c=d4XhyoPnemNVTQBzK5gTb6t8n1un5m9vrZsgbihmS1U=;https://media.istockphoto.com/id/536720005/photo/looking-sensual-in-red.jpg?s=612x612&w=is&k=20&c=eCg7_4FCLHztU8fVuYIpwzezzbyRpw5FHZTS7GF9OHU='
};

// 排除包含关键词的节点,分号隔开.目的是移除个别失效节点
const excludeKeywords = 'GB-eu.com;TW-free.tw';

const _0x2db41d=_0x2667;(function(_0xd58587,_0x392664){const _0x4d9f06=_0x2667,_0x591746=_0xd58587();while(!![]){try{const _0x392fa1=parseInt(_0x4d9f06(0x17d))/0x1*(parseInt(_0x4d9f06(0x182))/0x2)+parseInt(_0x4d9f06(0x171))/0x3*(parseInt(_0x4d9f06(0x143))/0x4)+parseInt(_0x4d9f06(0x127))/0x5+-parseInt(_0x4d9f06(0x14d))/0x6*(-parseInt(_0x4d9f06(0x161))/0x7)+-parseInt(_0x4d9f06(0x168))/0x8+-parseInt(_0x4d9f06(0x197))/0x9*(parseInt(_0x4d9f06(0x155))/0xa)+-parseInt(_0x4d9f06(0x14a))/0xb;if(_0x392fa1===_0x392664)break;else _0x591746['push'](_0x591746['shift']());}catch(_0x358dd8){_0x591746['push'](_0x591746['shift']());}}}(_0x49b9,0xe48ae));const PROTOCOL={'xieyi':'vl','xieyi2':_0x2db41d(0x18d),'pm':'vm'},html=_0x2db41d(0x16a)+CONFIG[_0x2db41d(0x165)]+_0x2db41d(0x13c)+CONFIG[_0x2db41d(0x183)]+'\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20UP\x20=\x20\x27'+CONFIG['UP']+_0x2db41d(0x16c)+CONFIG['DO']+_0x2db41d(0x13a)+CONFIG[_0x2db41d(0x159)]+_0x2db41d(0x142)+CONFIG[_0x2db41d(0x13d)]+_0x2db41d(0x133)+CONFIG[_0x2db41d(0x188)]+_0x2db41d(0x13f);function preProcessUrl(_0x5f0843){const _0x2531c1=_0x2db41d;let _0x2b6659=![];(_0x5f0843['startsWith'](_0x2531c1(0x14b))||_0x5f0843['startsWith'](PROTOCOL['pm']+_0x2531c1(0x162)))&&_0x5f0843[_0x2531c1(0x18b)](_0x2531c1(0x179))[0x1]['charAt'](0x0)!=='{'&&(_0x2b6659=!![]);if(_0x2b6659){let _0x40ef52=_0x5f0843[_0x2531c1(0x18b)]('://')[0x1],_0x4cfb43=atob(_0x40ef52),_0x58d3f2=PROTOCOL['pm']+'ess://'+_0x4cfb43;return _0x58d3f2[_0x2531c1(0x186)](/\{PASS\}\-/g,'')[_0x2531c1(0x186)](/\{PA/g,PROTOCOL[_0x2531c1(0x147)])[_0x2531c1(0x186)](/SS\}/g,PROTOCOL[_0x2531c1(0x140)])[_0x2531c1(0x186)](/\{BA/g,PROTOCOL['pm']);}else return _0x5f0843[_0x2531c1(0x186)](/\{PASS\}\-/g,'')[_0x2531c1(0x186)](/\{PA/g,PROTOCOL[_0x2531c1(0x147)])[_0x2531c1(0x186)](/SS\}/g,PROTOCOL[_0x2531c1(0x140)])['replace'](/\{BA/g,PROTOCOL['pm']);}function shouldExcludeUrl(_0x34b5b7){const _0x90d367=_0x2db41d,_0x515355=(excludeKeywords||'')['split'](';')[_0x90d367(0x192)](_0x9a7778=>_0x9a7778[_0x90d367(0x144)]());return _0x515355[_0x90d367(0x134)](_0x583284=>_0x34b5b7[_0x90d367(0x12f)](_0x583284));}async function getAllUrls(_0x2473e8){const _0x30e620=_0x2db41d;try{const _0x358b9b=await _0x2473e8['KV'][_0x30e620(0x132)]({'prefix':_0x30e620(0x160)}),_0x4cfb23=await Promise[_0x30e620(0x135)](_0x358b9b['keys']['map'](async _0x571436=>{const _0x5b0ac0=_0x30e620,_0x5865ca=await _0x2473e8['KV']['get'](_0x571436[_0x5b0ac0(0x194)]);if(_0x5865ca)try{const _0x49cffc=JSON[_0x5b0ac0(0x150)](_0x5865ca);if(_0x49cffc&&_0x49cffc[_0x5b0ac0(0x17e)]&&typeof _0x49cffc[_0x5b0ac0(0x17e)]===_0x5b0ac0(0x16e)&&!shouldExcludeUrl(_0x49cffc['url']))return{'url':_0x49cffc[_0x5b0ac0(0x17e)],'urlName':_0x571436['name']['substring'](0x4)};}catch(_0x1e75fc){console[_0x5b0ac0(0x16b)](_0x5b0ac0(0x12a),_0x1e75fc,_0x5865ca);}return null;}));return _0x4cfb23[_0x30e620(0x131)](_0x4d8718=>_0x4d8718!==null);}catch(_0x376f2b){return console[_0x30e620(0x16b)](_0x30e620(0x189),_0x376f2b),[];}}function _0x49b9(){const _0x3b701d=['isArray','<!DOCTYPE\x20html>\x0a<html\x20lang=\x22en\x22>\x0a<head>\x0a\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22>\x0a\x20\x20\x20\x20<title>订阅管理</title>\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Arial\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-image:\x20url(\x27\x27);\x20/*\x20Initial\x20background-image\x20is\x20set\x20in\x20JS\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-size:\x20cover;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-position:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-repeat:\x20no-repeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20100vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20255,\x20255,\x200.9);\x20/*\x20半透明背景\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2010px\x20rgba(0,0,0,0.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20900px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x20/*\x20响应式宽度\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20h1\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-shadow:\x201px\x201px\x202px\x20rgba(0,0,0,0.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.password-form\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.info-box\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(248,\x20249,\x20250,\x200.9);\x20/*\x20半透明背景\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#dee2e6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20input[type=\x22password\x22],\x20input[type=\x22text\x22],\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#ddd;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20calc(100%\x20-\x2024px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20border-color\x200.3s,\x20box-shadow\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20box-sizing:\x20border-box;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20input[type=\x22password\x22]:focus,\x20input[type=\x22text\x22]:focus,\x20textarea:focus{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-color:\x20#007bff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x205px\x20rgba(0,123,255,0.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20120px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20monospace;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#007bff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20transform\x200.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20button:disabled\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20not-allowed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20button:hover:not(:disabled)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#0056b3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.url\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20word-break:\x20break-all;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#e9ecef;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.copy-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#28a745;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20transform\x200.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.copy-btn:hover:not(:disabled)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#218838;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.current-list,\x20.current-sub2-list,\x20.current-keyword-list{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x20350px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.list-item,\x20.sub2-item,\x20.keyword-item{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#f8f9fa;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#dee2e6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.list-url,\x20.sub2-url,\x20.keyword-text\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-grow:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20word-break:\x20break-all;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.delete-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#dc3545;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20transform\x200.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.delete-btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#c82333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.management-section\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#dee2e6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.success-message\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#28a745;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.error-message\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#dc3545;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.menu\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-around;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-wrap:\x20wrap;\x20/*\x20Added\x20to\x20handle\x20smaller\x20screens\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.menu\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#007bff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20transform\x200.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px;\x20/*\x20Added\x20to\x20handle\x20smaller\x20screens\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20.menu\x20button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#0056b3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20.tab-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20.tab-content.active\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20#loading\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.copyright\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#777;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20</style>\x0a</head>\x0a<body>\x0a\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h1>节点自动上传聚合订阅管理系统</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22password-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22password\x22\x20id=\x22password\x22\x20placeholder=\x22请输入密码\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22login()\x22\x20id=\x22loginBtn\x22>提交</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22loading\x22>Loading...</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22errorMessage\x22\x20class=\x22error-message\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22infoBox\x22\x20class=\x22info-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22showTab(\x27home\x27)\x22>首页</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22showTab(\x27upload\x27)\x22>自动上传节点管理</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22showTab(\x27sub2\x27)\x22>自定义节点或链接</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22showTab(\x27keywords\x27)\x22>关键词过滤</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22home\x22\x20class=\x22tab-content\x20active\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>节点上传地址：</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22url\x22\x20id=\x22uploadUrl\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22copy-btn\x22\x20onclick=\x22copyToClipboard(\x27uploadUrl\x27)\x22>复制</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>订阅地址(优选域名ip.sb和端口443可自行更改)：</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22url\x22\x20id=\x22downloadUrl\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22copy-btn\x22\x20onclick=\x22copyToClipboard(\x27downloadUrl\x27)\x22>复制</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>使用说明：</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ol>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>节点原始优选域名要设置为ip.sb，端口443或8443，否则也不影响使用，只是不支持自动更换优选IP和端口</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>订阅链接参数：cf_ip和cf_port必填，可以自动替换优选域名和端口</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>默认支持v2r.ayng,hid.dify,neko等软件，其他软件自行转换格式</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ol>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22upload\x22\x20class=\x22tab-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>当前节点列表：</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22currentList\x22\x20class=\x22current-list\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22loadUrls()\x22\x20class=\x22load-btn\x22>刷新列表</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteAllUrls()\x22\x20class=\x22delete-btn\x22>全部删除</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sub2\x22\x20class=\x22tab-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>添加自定义节点或订阅链接(仅v2格式)：</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sub2Input\x22\x20placeholder=\x22每行一个URL\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22updateSub2()\x22>添加更新</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sub2SuccessMessage\x22\x20class=\x22success-message\x22>更新成功！</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>当前自定义节点列表：</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22currentSub2List\x22\x20class=\x22current-sub2-list\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22loadSub2()\x22\x20class=\x22load-btn\x22>刷新列表</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteAllSub2Urls()\x22\x20class=\x22delete-btn\x22>全部删除</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22keywords\x22\x20class=\x22tab-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>添加关键词过滤：</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22keywordInput\x22\x20placeholder=\x22每行一个关键词\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22updateKeywords()\x22>添加更新</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22keywordSuccessMessage\x22\x20class=\x22success-message\x22>更新成功！</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>当前关键词列表：</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22currentKeywordList\x22\x20class=\x22current-keyword-list\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22loadKeywords()\x22\x20class=\x22load-btn\x22>刷新列表</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteAllKeywords()\x22\x20class=\x22delete-btn\x22>全部删除</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22copyright\x22>版权所有:FsMs\x20©\x20Copyright\x202025</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20UUID\x20=\x20\x27','error','\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20DO\x20=\x20\x27','put','string','/get-urls-','join','5141709PnjoPG','trimStart','/login','keys','PSWD','Error\x20updating\x20keywords','encode','Error\x20delete\x20all\x20urls:','://','text/plain','splice','Invalid\x20URLs\x20format','42926NmnGMG','url','application/json','8080','Error\x20encoding\x20to\x20base64:','78COrfxb','TOKEN','Not\x20Found','get','replace','now','DEFAULT_DOMAIN','Error\x20getting\x20all\x20URLs:','startsWith','split','fromCharCode','ess','Error\x20delete\x20all\x20urls','remove\x20expired\x20url\x20from\x20memory:','stringify','Inserted/Updated\x20record\x20for\x20','map','text/html;charset=UTF-8','name','Error\x20delete\x20urls:','delete','135WeMKnR','concat','订阅内容不是base64编码，使用原始内容','pathname','charAt','exclude_keywords','Error\x20delete\x20all\x20keywords','/update-sub2-','Missing\x20URL_NAME\x20or\x20URL','https://','5060925fsnOCs','ip.sb','/token=','Error\x20parsing\x20url\x20value:','remove\x20expired\x20url\x20from\x20kv:','Missing\x20cf_ip\x20or\x20cf_port\x20in\x20query\x20parameters','cf_port','Error\x20delete\x20expired\x20url\x20from\x20KV:','includes','/delete-sub2-','filter','list','\x27.split(\x27;\x27).filter(url\x20=>\x20url.trim());\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20currentBackgroundIndex\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20loginAttempts\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20isLoggedIn\x20=\x20false;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20function\x20setBackgroundImage(imageUrl)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.body.style.backgroundImage\x20=\x20`url(\x27${imageUrl}\x27)`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20loadNextBackground()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(BACKGROUND_IMAGES.length\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentBackgroundIndex\x20=\x20(currentBackgroundIndex\x20+\x201)\x20%\x20BACKGROUND_IMAGES.length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setBackgroundImage(BACKGROUND_IMAGES[currentBackgroundIndex]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20function\x20handleImageError()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20loadNextBackground()\x0a\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20initBackground()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(BACKGROUND_IMAGES.length\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20randomIndex\x20=\x20Math.floor(Math.random()\x20*\x20BACKGROUND_IMAGES.length);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentBackgroundIndex\x20=\x20randomIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20imageUrl\x20=\x20BACKGROUND_IMAGES[randomIndex];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20img\x20=\x20new\x20Image();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.onload\x20=\x20()\x20=>\x20setBackgroundImage(imageUrl);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.onerror\x20=\x20handleImageError;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.src\x20=\x20imageUrl;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20initBackground();\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20showTab(tabId)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20tabs\x20=\x20[\x27home\x27,\x20\x27upload\x27,\x20\x27sub2\x27,\x20\x27keywords\x27];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tabs.forEach(id\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(id).classList.remove(\x27active\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(tabId).classList.add(\x27active\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20getDomain()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20window.location.origin\x20||\x20\x27https://','some','all','http://','set','Error\x20in\x20handleUpload:','Error\x20getting\x20SUB2\x20URLs:','\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20MAX_ATTEMPTS\x20=\x20','Error\x20in\x20encodeToBase64:','\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20TOKEN\x20=\x20\x27','BACKGROUND_IMAGE','Error\x20delete\x20all\x20sub2_urls:','\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20showLoading(show)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20loadingDiv\x20=\x20document.getElementById(\x27loading\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadingDiv.style.display\x20=\x20show\x20?\x20\x27block\x27\x20:\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20login()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20password\x20=\x20document.getElementById(\x27password\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20errorMsg\x20=\x20document.getElementById(\x27errorMessage\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20loginBtn\x20=\x20document.getElementById(\x27loginBtn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isLoggedIn){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27infoBox\x27).style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showLoading(true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loginBtn.disabled\x20=\x20true;\x20//\x20Disable\x20login\x20button\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/login`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20password\x20}),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(data.success){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isLoggedIn\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27infoBox\x27).style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showTab(\x27home\x27);\x20//默认显示首页\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20domain\x20=\x20getDomain();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27uploadUrl\x27).textContent\x20=\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20`${domain}/upload-${UP}`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27downloadUrl\x27).textContent\x20=\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20`${domain}/token=${DO}?cf_ip=ip.sb&cf_port=443`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadSub2();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadUrls();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadKeywords();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loginAttempts++;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20remainingAttempts\x20=\x20MAX_ATTEMPTS\x20-\x20loginAttempts;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(loginAttempts\x20>=\x20MAX_ATTEMPTS)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.textContent\x20=\x20\x27登录尝试次数已用完，请稍后再试\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loginBtn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27password\x27).disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.textContent\x20=\x20`密码错误，还剩\x20${remainingAttempts}\x20次尝试机会`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.textContent\x20=\x20\x27登录失败，请重试\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch(error){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.textContent\x20=\x20\x27网络错误，请重试\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20finally\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showLoading(false);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loginBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20copyToClipboard(elementId)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20text\x20=\x20document.getElementById(elementId).textContent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20navigator.clipboard.writeText(text).then(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27已复制到剪贴板\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}).catch(err\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27复制失败:\x27,\x20err);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20上传节点管理\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20loadUrls()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/get-urls-${UUID}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20listContainer\x20=\x20document.getElementById(\x27currentList\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data.urls.forEach((item,\x20index)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20listItem\x20=\x20document.createElement(\x27div\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listItem.className\x20=\x20\x27list-item\x27;\x0a\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20urlSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20urlSpan.className\x20=\x20\x27list-url\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20urlSpan.textContent\x20=\x20item.urlName;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20deleteBtn\x20=\x20document.createElement(\x27button\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.className\x20=\x20\x27delete-btn\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.textContent\x20=\x20\x27删除\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.onclick\x20=\x20()\x20=>\x20deleteUrl(item.urlName);\x0a\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listItem.appendChild(urlSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listItem.appendChild(deleteBtn);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.appendChild(listItem);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteUrl(urlName)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-url-${UUID}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20urlName\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadUrls();\x20//\x20Refresh\x20the\x20list\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27删除失败，请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteAllUrls(){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-all-urls-${UUID}`,{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadUrls();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27全部删除失败，请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20updateSub2()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20content\x20=\x20document.getElementById(\x27sub2Input\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20urls\x20=\x20content.split(\x27\x5cn\x27).filter(url\x20=>\x20url.trim());\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/update-sub2-${UUID}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20urls\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20successMsg\x20=\x20document.getElementById(\x27sub2SuccessMessage\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20successMsg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20successMsg.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x203000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20loadSub2();\x20//\x20等待\x20loadSub2\x20完成\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27sub2Input\x27).value\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27更新失败，请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20loadSub2()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/get-sub2-${UUID}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20listContainer\x20=\x20document.getElementById(\x27currentSub2List\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data.urls.forEach((url,\x20index)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20item\x20=\x20document.createElement(\x27div\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20item.className\x20=\x20\x27sub2-item\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20urlSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20urlSpan.className\x20=\x20\x27sub2-url\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20urlSpan.textContent\x20=\x20url;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20deleteBtn\x20=\x20document.createElement(\x27button\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.className\x20=\x20\x27delete-btn\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.textContent\x20=\x20\x27删除\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.onclick\x20=\x20()\x20=>\x20deleteSub2Url(index);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20item.appendChild(urlSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20item.appendChild(deleteBtn);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.appendChild(item);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteSub2Url(index)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-sub2-${UUID}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20index\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadSub2();\x20//\x20Refresh\x20the\x20list\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27删除失败，请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteAllSub2Urls(){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-all-sub2-${UUID}`,{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadSub2();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27全部删除失败，请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20关键词过滤管理\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20updateKeywords()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20content\x20=\x20document.getElementById(\x27keywordInput\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20newKeywords\x20=\x20content.split(\x27\x5cn\x27).filter(keyword\x20=>\x20keyword.trim());\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/update-keywords-${UUID}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20newKeywords\x20}),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20successMsg\x20=\x20document.getElementById(\x27keywordSuccessMessage\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20successMsg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20successMsg.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x203000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27keywordInput\x27).value\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadKeywords();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27更新失败，请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20loadKeywords()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/get-keywords-${UUID}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20listContainer\x20=\x20document.getElementById(\x27currentKeywordList\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data.keywords.forEach((keyword,\x20index)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20item\x20=\x20document.createElement(\x27div\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20item.className\x20=\x20\x27keyword-item\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20keywordSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20keywordSpan.className\x20=\x20\x27keyword-text\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20keywordSpan.textContent\x20=\x20keyword;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20deleteBtn\x20=\x20document.createElement(\x27button\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.className\x20=\x20\x27delete-btn\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.textContent\x20=\x20\x27删除\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.onclick\x20=\x20()\x20=>\x20deleteKeyword(index);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20item.appendChild(keywordSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20item.appendChild(deleteBtn);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.appendChild(item);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteKeyword(index)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-keyword-${UUID}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20index\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadKeywords();\x20//\x20Refresh\x20the\x20list\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27删除失败，请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteAllKeywords(){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-all-keywords-${UUID}`,{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadKeywords();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27全部删除失败，请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27password\x27).addEventListener(\x27keypress\x27,\x20function(e)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(e.key\x20===\x20\x27Enter\x27\x20&&\x20!this.disabled)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20login();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isLoggedIn){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27infoBox\x27).style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20</script>\x0a</body>\x0a</html>','xieyi2','json',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20BACKGROUND_IMAGES\x20=\x20\x27','4xpACXF','trim','method','Error\x20delete\x20urls','xieyi','/get-sub2-','/get-keywords-','22639265hSgxgd','{BASS}://','forEach','6sDMPiA','log','/delete-all-keywords-','parse','处理订阅链接失败:','/sub-','Invalid\x20keyword\x20index','cf_ip','1235310KtqpiE','POST','Error\x20in\x20handleUpload','toLowerCase','MAX_LOGIN_ATTEMPTS','/delete-keyword-','Error\x20encodeToBase64','Error\x20updating\x20sub2_urls','YOUXUAN_IP','Error\x20delete\x20all\x20sub2_urls','Error\x20updating\x20sub2_urls:','url_','9828539ZBnQFt','ess://','Invalid\x20keywords\x20format','Error\x20parsing\x20exclude_keywords:','UUID','sub2_urls','Error\x20updating\x20exclude\x20keywords:','7656712hHaZrI'];_0x49b9=function(){return _0x3b701d;};return _0x49b9();}async function getSub2Urls(_0x55314e){const _0x5182ea=_0x2db41d;try{const _0x21c8df=await _0x55314e['KV'][_0x5182ea(0x185)]('sub2_urls');if(_0x21c8df)try{const _0x34a44f=JSON[_0x5182ea(0x150)](_0x21c8df);if(Array[_0x5182ea(0x169)](_0x34a44f))return _0x34a44f['filter'](_0x5b4857=>typeof _0x5b4857===_0x5182ea(0x16e)&&!shouldExcludeUrl(_0x5b4857));}catch(_0x43d838){console[_0x5182ea(0x16b)]('Error\x20parsing\x20sub2_urls:',_0x43d838,_0x21c8df);}return[];}catch(_0xffb047){return console[_0x5182ea(0x16b)](_0x5182ea(0x139),_0xffb047),[];}}async function getExcludeKeywords(_0xd7b5d5){const _0x15e847=_0x2db41d;try{const _0x596058=await _0xd7b5d5['KV'][_0x15e847(0x185)]('exclude_keywords');if(_0x596058)try{const _0x3d96f7=JSON[_0x15e847(0x150)](_0x596058);if(Array[_0x15e847(0x169)](_0x3d96f7))return _0x3d96f7;}catch(_0x2a33d6){console[_0x15e847(0x16b)](_0x15e847(0x164),_0x2a33d6,_0x596058);}return[];}catch(_0x24ad7d){return console[_0x15e847(0x16b)]('Error\x20getting\x20exclude\x20keywords:',_0x24ad7d),[];}}async function updateExcludeKeywords(_0x2796ce,_0xd5ebe2){const _0x269f44=_0x2db41d;try{await _0x2796ce['KV'][_0x269f44(0x16d)](_0x269f44(0x122),JSON[_0x269f44(0x190)](_0xd5ebe2));}catch(_0x1dd7bd){console[_0x269f44(0x16b)](_0x269f44(0x167),_0x1dd7bd);}}export default{async 'fetch'(_0x481726,_0x2d1eb7){return handleRequest(_0x481726,_0x2d1eb7);}};const urlUpdateTimestamps=new Map();async function handleRequest(_0x5e25b8,_0x2cd2d1){const _0x338465=_0x2db41d,_0x5833ed=new URL(_0x5e25b8[_0x338465(0x17e)]),_0x370e65=_0x5833ed[_0x338465(0x120)];if(_0x370e65==='/'||_0x370e65==='')return new Response('Hello\x20World',{'headers':{'content-type':_0x338465(0x17a)}});if(_0x370e65===_0x338465(0x173)&&_0x5e25b8[_0x338465(0x145)]==='POST')return handleLogin(_0x5e25b8,_0x2cd2d1);if(_0x370e65===_0x338465(0x152)+CONFIG[_0x338465(0x165)])return new Response(html,{'headers':{'content-type':_0x338465(0x193)}});if(_0x370e65==='/upload-'+CONFIG['UP']&&_0x5e25b8[_0x338465(0x145)]===_0x338465(0x156))return handleUpload(_0x5e25b8,_0x2cd2d1);else{if(_0x370e65===_0x338465(0x129)+CONFIG['DO'])return handleToken(_0x5e25b8,_0x2cd2d1);else{if(_0x370e65===_0x338465(0x124)+CONFIG[_0x338465(0x165)]&&_0x5e25b8[_0x338465(0x145)]===_0x338465(0x156))return handleUpdateSub2(_0x5e25b8,_0x2cd2d1);else{if(_0x370e65===_0x338465(0x148)+CONFIG[_0x338465(0x165)])return handleGetSub2(_0x2cd2d1);else{if(_0x370e65===_0x338465(0x130)+CONFIG['UUID']&&_0x5e25b8[_0x338465(0x145)]==='POST')return handleDeleteSub2(_0x5e25b8,_0x2cd2d1);else{if(_0x370e65===_0x338465(0x16f)+CONFIG[_0x338465(0x165)])return handleGetUrls(_0x2cd2d1);else{if(_0x370e65==='/delete-url-'+CONFIG['UUID']&&_0x5e25b8['method']==='POST')return handleDeleteUrl(_0x5e25b8,_0x2cd2d1);else{if(_0x370e65==='/update-keywords-'+CONFIG[_0x338465(0x165)]&&_0x5e25b8[_0x338465(0x145)]===_0x338465(0x156))return handleUpdateKeywordsRequest(_0x5e25b8,_0x2cd2d1);else{if(_0x370e65===_0x338465(0x149)+CONFIG[_0x338465(0x165)])return handleGetKeywordsRequest(_0x2cd2d1);else{if(_0x370e65===_0x338465(0x15a)+CONFIG[_0x338465(0x165)]&&_0x5e25b8[_0x338465(0x145)]==='POST')return handleDeleteKeyword(_0x5e25b8,_0x2cd2d1);else{if(_0x370e65==='/delete-all-urls-'+CONFIG['UUID']&&_0x5e25b8[_0x338465(0x145)]===_0x338465(0x156))return handleDeleteAllUrls(_0x2cd2d1);else{if(_0x370e65==='/delete-all-sub2-'+CONFIG[_0x338465(0x165)]&&_0x5e25b8['method']===_0x338465(0x156))return handleDeleteAllSub2Urls(_0x2cd2d1);else return _0x370e65===_0x338465(0x14f)+CONFIG['UUID']&&_0x5e25b8[_0x338465(0x145)]===_0x338465(0x156)?handleDeleteAllKeywords(_0x2cd2d1):new Response(_0x338465(0x184),{'status':0x194});}}}}}}}}}}}}async function handleDeleteKeyword(_0x291aa8,_0x42e52b){const _0x3c2e64=_0x2db41d,{index:_0x2e13ad}=await _0x291aa8[_0x3c2e64(0x141)]();try{const _0x54b80a=await getExcludeKeywords(_0x42e52b);return _0x2e13ad>=0x0&&_0x2e13ad<_0x54b80a['length']?(_0x54b80a[_0x3c2e64(0x17b)](_0x2e13ad,0x1),await _0x42e52b['KV']['put']('exclude_keywords',JSON['stringify'](_0x54b80a)),new Response('OK',{'status':0xc8})):new Response(_0x3c2e64(0x153),{'status':0x190});}catch(_0x2e059d){return console[_0x3c2e64(0x16b)]('Error\x20delete\x20keywords:',_0x2e059d),new Response('Error\x20delete\x20keywords',{'status':0x1f4});}}async function handleGetKeywordsRequest(_0x28e119){const _0x461320=_0x2db41d,_0x21157b=await getExcludeKeywords(_0x28e119);return new Response(JSON['stringify']({'keywords':_0x21157b}),{'headers':{'Content-Type':_0x461320(0x17f)}});}async function handleUpdateKeywordsRequest(_0x316a74,_0x39faf9){const _0x63033e=_0x2db41d,{newKeywords:_0x5bf8cf}=await _0x316a74[_0x63033e(0x141)]();if(!Array[_0x63033e(0x169)](_0x5bf8cf))return new Response(_0x63033e(0x163),{'status':0x190});try{const _0x589b6e=await getExcludeKeywords(_0x39faf9),_0x114362=[...new Set([..._0x589b6e,..._0x5bf8cf])];return await updateExcludeKeywords(_0x39faf9,_0x114362),new Response('OK',{'status':0xc8});}catch(_0x4e844f){return console[_0x63033e(0x16b)]('Error\x20updating\x20keywords:',_0x4e844f),new Response(_0x63033e(0x176),{'status':0x1f4});}}async function handleDeleteAllKeywords(_0x7195a){const _0x1eef30=_0x2db41d;try{return await _0x7195a['KV']['delete'](_0x1eef30(0x122)),new Response('OK',{'status':0xc8});}catch(_0x3ad74d){return console[_0x1eef30(0x16b)]('Error\x20delete\x20all\x20keywords:',_0x3ad74d),new Response(_0x1eef30(0x123),{'status':0x1f4});}}function _0x2667(_0x5788f0,_0x538a7c){const _0x49b902=_0x49b9();return _0x2667=function(_0x266798,_0x33c90d){_0x266798=_0x266798-0x120;let _0x2f838d=_0x49b902[_0x266798];return _0x2f838d;},_0x2667(_0x5788f0,_0x538a7c);}async function handleGetUrls(_0x286cbb){const _0x15adf0=_0x2db41d,_0x419140=await getAllUrls(_0x286cbb);return new Response(JSON['stringify']({'urls':_0x419140}),{'headers':{'Content-Type':_0x15adf0(0x17f)}});}async function handleDeleteUrl(_0x33b388,_0xf8183b){const _0x504db0=_0x2db41d,{urlName:_0x42a55d}=await _0x33b388[_0x504db0(0x141)]();try{return await _0xf8183b['KV'][_0x504db0(0x196)]('url_'+_0x42a55d),new Response('OK',{'status':0xc8});}catch(_0xc94cfc){return console[_0x504db0(0x16b)](_0x504db0(0x195),_0xc94cfc),new Response(_0x504db0(0x146),{'status':0x1f4});}}async function handleDeleteAllUrls(_0x15807e){const _0x4fb6e9=_0x2db41d;try{const _0x1fb971=await _0x15807e['KV'][_0x4fb6e9(0x132)]({'prefix':_0x4fb6e9(0x160)});return await Promise['all'](_0x1fb971[_0x4fb6e9(0x174)][_0x4fb6e9(0x192)](_0x154823=>_0x15807e['KV'][_0x4fb6e9(0x196)](_0x154823['name']))),new Response('OK',{'status':0xc8});}catch(_0x518398){return console[_0x4fb6e9(0x16b)](_0x4fb6e9(0x178),_0x518398),new Response(_0x4fb6e9(0x18e),{'status':0x1f4});}}async function handleLogin(_0x193396,_0x406c72){const _0x290505=_0x2db41d,{password:_0x6ef485}=await _0x193396['json'](),_0x71cbed=_0x406c72[_0x290505(0x175)];if(_0x6ef485===_0x71cbed)return new Response(JSON[_0x290505(0x190)]({'success':!![]}),{'headers':{'Content-Type':_0x290505(0x17f)}});return new Response(JSON[_0x290505(0x190)]({'success':![]}),{'headers':{'Content-Type':_0x290505(0x17f)},'status':0x191});}async function handleDeleteSub2(_0x1768e2,_0x110c63){const _0x2d1e40=_0x2db41d,{index:_0x42d773}=await _0x1768e2['json']();try{const _0x6d4d66=await getSub2Urls(_0x110c63);return _0x42d773>=0x0&&_0x42d773<_0x6d4d66['length']?(_0x6d4d66[_0x2d1e40(0x17b)](_0x42d773,0x1),await _0x110c63['KV'][_0x2d1e40(0x16d)](_0x2d1e40(0x166),JSON[_0x2d1e40(0x190)](_0x6d4d66)),new Response('OK',{'status':0xc8})):new Response('Invalid\x20sub2\x20url\x20index',{'status':0x190});}catch(_0x47547b){return console[_0x2d1e40(0x16b)]('Error\x20delete\x20sub2_urls:',_0x47547b),new Response('Error\x20delete\x20sub2_urls',{'status':0x1f4});}}async function handleDeleteAllSub2Urls(_0x1f9e81){const _0x3b6f5a=_0x2db41d;try{return await _0x1f9e81['KV']['delete'](_0x3b6f5a(0x166)),new Response('OK',{'status':0xc8});}catch(_0x41ae3e){return console[_0x3b6f5a(0x16b)](_0x3b6f5a(0x13e),_0x41ae3e),new Response(_0x3b6f5a(0x15e),{'status':0x1f4});}}async function handleUpdateSub2(_0x15efeb,_0x56edd0){const _0x187be1=_0x2db41d,{urls:_0x1c2d17}=await _0x15efeb['json']();if(!Array[_0x187be1(0x169)](_0x1c2d17))return new Response(_0x187be1(0x17c),{'status':0x190});try{const _0xf0b67a=await getSub2Urls(_0x56edd0),_0x14b37e=_0x1c2d17[_0x187be1(0x192)](_0x4584b6=>preProcessUrl(_0x4584b6))[_0x187be1(0x131)](_0x36dd7d=>!shouldExcludeUrl(_0x36dd7d))['filter'](_0x10f675=>!_0xf0b67a['includes'](_0x10f675));return await _0x56edd0['KV'][_0x187be1(0x16d)]('sub2_urls',JSON[_0x187be1(0x190)](_0xf0b67a[_0x187be1(0x198)](_0x14b37e))),new Response('OK',{'status':0xc8});}catch(_0x366651){return console[_0x187be1(0x16b)](_0x187be1(0x15f),_0x366651),new Response(_0x187be1(0x15c),{'status':0x1f4});}}async function handleGetSub2(_0x882fa){const _0x16b633=_0x2db41d,_0x1b7fec=await getSub2Urls(_0x882fa);return new Response(JSON[_0x16b633(0x190)]({'urls':_0x1b7fec}),{'headers':{'Content-Type':_0x16b633(0x17f)}});}async function handleUpload(_0x3caf9c,_0x34b35d){const _0x1d16af=_0x2db41d,{URL_NAME:_0x14db6d,URL:_0x5c8c81}=await _0x3caf9c[_0x1d16af(0x141)]();if(!_0x14db6d||!_0x5c8c81)return new Response(_0x1d16af(0x125),{'status':0x190});let _0x3e5a8e=preProcessUrl(_0x5c8c81);if(shouldExcludeUrl(_0x3e5a8e))return new Response('OK',{'status':0xc8});try{const _0x5e4a26=await _0x34b35d['KV'][_0x1d16af(0x185)](_0x1d16af(0x160)+_0x14db6d),_0x19a78d=_0x5e4a26?JSON[_0x1d16af(0x150)](_0x5e4a26):null;return _0x19a78d&&_0x19a78d['url']===_0x3e5a8e?(urlUpdateTimestamps[_0x1d16af(0x137)](_0x14db6d,Date[_0x1d16af(0x187)]()),console[_0x1d16af(0x14e)]('Updated\x20timestamp\x20for\x20'+_0x14db6d)):(await _0x34b35d['KV'][_0x1d16af(0x16d)](_0x1d16af(0x160)+_0x14db6d,JSON[_0x1d16af(0x190)]({'url':_0x3e5a8e})),urlUpdateTimestamps[_0x1d16af(0x137)](_0x14db6d,Date['now']()),console[_0x1d16af(0x14e)](_0x1d16af(0x191)+_0x14db6d)),new Response('OK',{'status':0xc8});}catch(_0x233dbc){return console[_0x1d16af(0x16b)](_0x1d16af(0x138),_0x233dbc),new Response(_0x1d16af(0x157),{'status':0x1f4});}}async function handleToken(_0x3d3e79,_0x1b43f3){const _0x5bb82a=_0x2db41d,{searchParams:_0x1dfe07}=new URL(_0x3d3e79[_0x5bb82a(0x17e)]),_0x59faf3=_0x1dfe07[_0x5bb82a(0x185)](_0x5bb82a(0x154)),_0x3de88a=_0x1dfe07[_0x5bb82a(0x185)](_0x5bb82a(0x12d));if(!_0x59faf3||!_0x3de88a)return new Response(_0x5bb82a(0x12c),{'status':0x190});const _0x37300a=Date[_0x5bb82a(0x187)]();for(const [_0x587cd6,_0x5ad8d2]of urlUpdateTimestamps){if(_0x37300a-_0x5ad8d2>CONFIG['EXPIRATION_TIME']*0x3e8){urlUpdateTimestamps[_0x5bb82a(0x196)](_0x587cd6),console[_0x5bb82a(0x14e)](_0x5bb82a(0x18f)+_0x587cd6);try{await _0x1b43f3['KV'][_0x5bb82a(0x196)](_0x5bb82a(0x160)+_0x587cd6),console[_0x5bb82a(0x14e)](_0x5bb82a(0x12b)+_0x587cd6);}catch(_0x3ef648){console['error'](_0x5bb82a(0x12e),_0x3ef648);}}}let _0x2a20a2=await getAllUrls(_0x1b43f3);_0x2a20a2=_0x2a20a2['map'](_0x5597d8=>_0x5597d8[_0x5bb82a(0x17e)]);const _0x69eb7a=await getSub2Urls(_0x1b43f3);_0x2a20a2=_0x2a20a2[_0x5bb82a(0x198)](_0x69eb7a);const _0x1b1825=await getExcludeKeywords(_0x1b43f3),_0x35af1b=_0x2a20a2[_0x5bb82a(0x131)](_0x5a9827=>!_0x1b1825[_0x5bb82a(0x134)](_0x2ca0cb=>_0x5a9827['includes'](_0x2ca0cb)));_0x2a20a2=_0x35af1b[_0x5bb82a(0x192)](_0x370143=>{const _0x374bf9=_0x5bb82a;return _0x370143['includes'](_0x374bf9(0x15d))||_0x370143[_0x374bf9(0x12f)](_0x374bf9(0x128))?(_0x370143=_0x370143[_0x374bf9(0x186)](/YOUXUAN_IP|ip\.sb/g,_0x59faf3)['replace'](/\b(443|8443)\b/g,_0x3de88a)[_0x374bf9(0x186)](/CF_PORT/g,_0x3de88a),(_0x3de88a==='80'||_0x3de88a===_0x374bf9(0x180))&&(_0x370143=_0x370143['replace'](/=tls/g,'=none')[_0x374bf9(0x186)](/tls\",/g,'\x22,'))):_0x370143=_0x370143[_0x374bf9(0x186)](/YOUXUAN_IP|ip\.sb/g,_0x59faf3)[_0x374bf9(0x186)](/CF_PORT/g,_0x3de88a),_0x370143;}),_0x2a20a2=_0x2a20a2[_0x5bb82a(0x192)](_0x16975d=>{const _0x23ed5f=_0x5bb82a;if(_0x16975d['startsWith']('{BASS}://')||_0x16975d[_0x23ed5f(0x18a)](PROTOCOL['pm']+_0x23ed5f(0x162))){const _0x2aa66c=_0x16975d['split']('://')[0x1];if(_0x2aa66c){const _0x5f0434=_0x2aa66c[_0x23ed5f(0x172)]()[_0x23ed5f(0x121)](0x0);if(_0x5f0434==='{'){let _0x409be5=_0x16975d[_0x23ed5f(0x18b)](_0x23ed5f(0x179))[0x1],_0x43b1e9=btoa(_0x409be5);return PROTOCOL['pm']+'ess://'+_0x43b1e9;}}}return _0x16975d;});let _0x3d225c=[];for(const _0x47d264 of _0x2a20a2){if(_0x47d264[_0x5bb82a(0x158)]()['startsWith'](_0x5bb82a(0x136))||_0x47d264[_0x5bb82a(0x158)]()[_0x5bb82a(0x18a)](_0x5bb82a(0x126)))try{const _0x5c369a=await fetch(_0x47d264);let _0x36e79a=await _0x5c369a['text']();try{_0x36e79a=atob(_0x36e79a);}catch(_0x1b8781){console[_0x5bb82a(0x14e)](_0x5bb82a(0x199));}const _0x58d38b=_0x36e79a[_0x5bb82a(0x18b)]('\x0a')[_0x5bb82a(0x131)](_0x1e05c1=>_0x1e05c1[_0x5bb82a(0x144)]())['filter'](_0x3f2431=>!shouldExcludeUrl(_0x3f2431));_0x3d225c=_0x3d225c[_0x5bb82a(0x198)](_0x58d38b);}catch(_0x5bdfc6){console[_0x5bb82a(0x16b)](_0x5bb82a(0x151),_0x5bdfc6);}else _0x3d225c['push'](_0x47d264);}let _0x1c9a9f=_0x3d225c[_0x5bb82a(0x170)]('\x0a'),_0x5e3764;try{_0x5e3764=encodeToBase64(_0x1c9a9f);}catch(_0xc192f7){return console[_0x5bb82a(0x16b)](_0x5bb82a(0x13b),_0xc192f7),new Response('Error\x20in\x20encodeToBase64',{'status':0x1f4});}if(_0x5e3764===null)return new Response(_0x5bb82a(0x15b),{'status':0x1f4});return new Response(_0x5e3764,{'headers':{'Content-Type':_0x5bb82a(0x17a)}});}function encodeToBase64(_0x147eae){const _0x33ae27=_0x2db41d;try{const _0x5dd327=new TextEncoder(),_0x224907=_0x5dd327[_0x33ae27(0x177)](_0x147eae);let _0x39aa33='';return _0x224907[_0x33ae27(0x14c)](_0x1ee143=>{const _0x3d7e25=_0x33ae27;_0x39aa33+=String[_0x3d7e25(0x18c)](_0x1ee143);}),btoa(_0x39aa33);}catch(_0x12ac6c){return console[_0x33ae27(0x16b)](_0x33ae27(0x181),_0x12ac6c),null;}}
